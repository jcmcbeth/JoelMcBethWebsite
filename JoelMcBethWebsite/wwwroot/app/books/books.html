<h1>Books</h1>
<p>This is a list of the books in my library.</p>
<ul class="list-unstyled">
    <li ng-if="::vm.canAdd()"><a ui-sref="addBook">Add Book</a></li>
</ul>

<div class="row">
    <div class="form-group col-md-2">
        <label for="filter">Filter:</label>
        <input id="filter" type="text" class="form-control" ng-model="vm.filterText" ng-change="vm.filterBooks()" />
    </div>
    <div class="form-group col-md-2">
        <label for="sort">Sort:</label>
        <select id="sort" class="form-control" ng-model="vm.sort" ng-change="vm.updateBooks()"
                ng-options="option.value as option.name for option in vm.sortOptions">
        </select>
    </div>
    <div class="form-group col-md-2">
        <label for="sortDirection">Order:</label>
        <select id="sortDirection" class="form-control" ng-model="vm.sortDirection" ng-change="vm.updateBooks()"
                ng-options="option.value as option.name for option in vm.sortDirections">
        </select>
    </div>
</div>

<div ng-repeat="book in vm.books" class="book">
    <div class="book-image">
        <img src="https://books.google.com/books?vid=ISBN{{book.isbn13}}&printsec=frontcover&img=1&zoom=1" />
    </div>
    <div class="book-summary">
        <h5><strong>{{book.title}}</strong></h5>
        <div class="text-muted" ng-if="book.authors.length > 0">
            by <span ng-repeat="author in book.authors">{{author.firstName}} {{author.lastName}}{{ !$last ? ", " : ""}}</span>
        </div>   
        <!--<a ui-sref="bookDetails({ isbn: book.isbn13  })">Details</a>-->
    </div>
</div>

<nav ng-show="vm.pages.length > 1">
    <ul class="pagination">
        <li class="page-item" ng-class="{ disabled: vm.page == 1 }">
            <a class="page-link" href="" aria-label="Previous" ng-click="vm.selectPage(vm.page - 1)">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
            </a>
        </li>
        <li ng-repeat="n in vm.pages">
            <a class="page-link" href="" ng-class="{ active: vm.page == n }" ng-click="vm.selectPage(n)">{{n}}</a>
        </li>
        <li class="page-item" ng-class="{ disabled: vm.page == vm.pageCount }">
            <a class="page-link" href="" aria-label="Next" ng-click="vm.selectPage(vm.page + 1)">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
            </a>
        </li>
    </ul>
</nav>