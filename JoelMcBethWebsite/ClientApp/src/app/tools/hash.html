<h1>Hash Generator</h1>
<p>
    The purpose of this is for testing sending hashed credentials for SSO systems. This will take a list of properties to hash and/or send to the specified URL as a POST or GET.
</p>
<p>
    You can select Send for a property to send it in the POST/GET and you can select Hash to also include the value in the Hash that is calculated. The properties that are selected to hash are appended together from top to bottem before being hashed.
</p>
<p>If you are working with a particularly sophisticated SSO system that requires a certain casing for the hash there is an option for that too.</p>
<form name="vm.form" ng-submit="vm.execute()" novalidate>
    <table class="table">
        <thead>
            <tr>
                <th>Hash</th>
                <th>Send</th>
                <th>Property</th>
                <th>Value</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="property in vm.properties">
                <td>
                    <input type="checkbox" class="form-control" ng-model="property.hash" />
                </td>
                <td>
                    <input type="checkbox" class="form-control" ng-model="property.include" />
                </td>
                <td>
                    <input type="text" class="form-control" ng-model="property.name" />
                </td>
                <td>
                    <input type="text" class="form-control" ng-model="property.value" />
                </td>
                <td>
                    <button class="btn" ng-click="vm.deleteProperty(property)">
                        Remove
                    </button>
                </td>
            </tr>
        </tbody>
    </table>

    <div class="form-group">
        <button type="button" class="btn" ng-click="vm.addProperty()">Add Property</button>
    </div>  

    <div class="form-group">
        <label>URL</label><span class="badge badge-light">Required</span>
        <input type="text" class="form-control" ng-model="vm.url" required />
    </div>

    <div class="form-group">
        <label>Method</label>
        <select type="text" class="form-control" ng-model="vm.method" ng-options="method for method in vm.methods"></select>
    </div>

    <div class="form-group">
        <label>Algorithm</label>
        <select type="text" class="form-control" ng-model="vm.algorithm" ng-options="algorithm for algorithm in vm.algorithms"></select>
    </div>

    <div class="form-group">
        <label>Hash</label>
        <div class="input-group">
            <input type="text" class="form-control" ng-model="vm.hash" />
            <button type="button" class="btn" ng-click="vm.generate()">Generate Hash</button>
        </div>
        <div class="form-check">
            <input id="uppercase-hash" class="form-check-input" type="checkbox" ng-model="vm.uppercaseHash" ng-change="vm.generate()" />
            <label for="uppercase-hash" class="form-check-label">Uppercase Hash</label>
        </div>
    </div>

    <button type="submit" class="btn btn-primary" ng-disabled="vm.form.$invalid">Execute</button>
</form>

<form id="submission-form" action="{{vm.actionUrl}}" method="{{vm.method}}" target="_blank">
    <input type="hidden" ng-repeat="property in vm.properties" ng-if="property.include" name="{{property.name}}" value="{{property.value}}" />
    <input type="hidden" name="Hash" value="{{vm.hash}}" />
</form>